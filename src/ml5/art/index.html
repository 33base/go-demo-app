<!--
 Copyright (c) 2018 ml5
 
 This software is released under the MIT License.
 https://opensource.org/licenses/MIT
-->

<html>

<head>
  <meta charset="UTF-8">
  <title>Style Transfer Image Example with Promises</title>
  <script src="https://unpkg.com/ml5@0.1.1/dist/ml5.min.js" type="text/javascript"></script>
  
  <style>
  body { 
  font-family: Avenir, sans-serif; margin: 0; 
  background-color: #121;
}
div#quad { 
  background-color: #000; 
  font-size: 0; width: 60%; 
  margin: 0 auto;
  box-shadow: 0 0 12px rgba(0,0,0,0.8);
}
div#quad figure { 
  margin: 0; width: 50%; 
  height: auto; transition: 1s; 
  display: inline-block; 
  position: relative; overflow: hidden; 
}
div#quad figure:hover { cursor: pointer; z-index: 4; }
div#quad figure img { width: 100%; height: auto; }
div#quad figure:nth-child(1) { transform-origin: top left; }
div#quad figure:nth-child(2) { transform-origin: top right; }
div#quad figure:nth-child(3) { transform-origin: bottom left; }
div#quad figure:nth-child(4) { transform-origin: bottom right; }
div#quad figure figcaption { 
  margin: 0; opacity: 0; 
  background: rgba(0,0,0,0.3); 
  color: #fff; padding: .3rem; 
  font-size: 1.2rem; 
  position: absolute; 
  bottom: 0; width: 100%;
  transition: 1s 1s opacity; 
}
.expanded { transform: scale(2); z-index: 5;  }
div#quad figure.expanded figcaption { opacity: 1; }
div.full figure:not(.expanded) { pointer-events: none; }
  img {
    width: 250px;
    height: 250px;
    display: inline;
  }
  </style>
</head>


<body>
  <p id="statusMsg" style='color:#ffffff'>Loading Models...</p>
  <div id="quad">
  <figure>
  <img src="img/udnie.jpg" alt="style">
  <figcaption>Style Image: Udnie (Young American Girl, The Dance), 1913 - Francisco Maria Martinez Picabia della Torre</figcaption>
  </figure>
  <figura>
    <img src="img/uploaded" alt="input img" id="inputImg">
    <figcaption>Input Image</figcaption>
  </figura>
    <figure>
    <img src="img/ml5.png" alt>
    <figcaption>TensorFlow.js + ml5.js - friendly machine learning for the web!</figcaption>
  </figure>
  <figure id="Udnie">
    <figcaption>Neural Styled Image</figcaption>
  </figure>

</div>
<script type="text/javascript">
  var quadimages = document.querySelectorAll("#quad figure");
  for(i=0; i<quadimages.length; i++) {
  quadimages[i].addEventListener('click', function(){ this.classList.toggle("expanded"); quad.classList.toggle("full") }); 
}</script>
  <script src="sketch.js"></script>
</body>

</html>
